"use strict";(self.webpackChunkaltair_docs=self.webpackChunkaltair_docs||[]).push([[8780],{4137:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=p(a),u=n,k=m["".concat(s,".").concat(u)]||m[u]||d[u]||l;return a?r.createElement(k,o(o({ref:t},c),{},{components:a})):r.createElement(k,o({ref:t},c))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,o=new Array(l);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:n,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},271:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var r=a(7462),n=(a(7294),a(4137));const l={},o="Add cloud services",i={unversionedId:"deploy-with-docker/Start-cloud-connected-Altair",id:"deploy-with-docker/Start-cloud-connected-Altair",title:"Add cloud services",description:"Stop the Altair docker container",source:"@site/docs/40-deploy-with-docker/08-Start-cloud-connected-Altair.md",sourceDirName:"40-deploy-with-docker",slug:"/deploy-with-docker/Start-cloud-connected-Altair",permalink:"/altair_8800_docs/deploy-with-docker/Start-cloud-connected-Altair",draft:!1,editUrl:"https://github.com/gloveboxes/altair_8800_docs/tree/main/docs/40-deploy-with-docker/08-Start-cloud-connected-Altair.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Deploy",permalink:"/altair_8800_docs/deploy-with-docker/Deploy-Altair"},next:{title:"Build docker images",permalink:"/altair_8800_docs/deploy-with-docker/Create-Docker-images"}},s={},p=[{value:"Stop the Altair docker container",id:"stop-the-altair-docker-container",level:2},{value:"Create the Altair docker environment file",id:"create-the-altair-docker-environment-file",level:2},{value:"Start the Altair Docker image",id:"start-the-altair-docker-image",level:2},{value:"General Linux, macOS, Windows, and Raspberry Pi users",id:"general-linux-macos-windows-and-raspberry-pi-users",level:3},{value:"Create a new persistent storage volume",id:"create-a-new-persistent-storage-volume",level:4},{value:"Start the Altair emulator",id:"start-the-altair-emulator",level:4},{value:"Raspberry Pi with Pi Sense HAT users",id:"raspberry-pi-with-pi-sense-hat-users",level:3},{value:"Enable I2C hardware access",id:"enable-i2c-hardware-access",level:4},{value:"Create a new persistent storage volume",id:"create-a-new-persistent-storage-volume-1",level:4},{value:"Start the Altair emulator",id:"start-the-altair-emulator-1",level:4},{value:"Managing the Docker persistent storage volume",id:"managing-the-docker-persistent-storage-volume",level:3},{value:"Open the Web Terminal",id:"open-the-web-terminal",level:2}],c={toc:p},m="wrapper";function d(e){let{components:t,...l}=e;return(0,n.kt)(m,(0,r.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"add-cloud-services"},"Add cloud services"),(0,n.kt)("h2",{id:"stop-the-altair-docker-container"},"Stop the Altair docker container"),(0,n.kt)("p",null,"First, stop the Altair Docker container. From a terminal window, run the following command."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker stop altair8800\n")),(0,n.kt)("h2",{id:"create-the-altair-docker-environment-file"},"Create the Altair docker environment file"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Go to the ",(0,n.kt)("em",{parentName:"p"},"Altair8800")," folder that you cloned to your computer.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Using Visual Studio Code or a text editor of your choice, open the docker ",(0,n.kt)("em",{parentName:"p"},"altair.env")," environment file.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Update the values with your data."),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"IMPORTANT")),(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"If you don't use a service then leave the key-value blank."),(0,n.kt)("li",{parentName:"ul"},"Don't include any speech marks in key-values."),(0,n.kt)("li",{parentName:"ul"},"Replace the Australia/Sydney time zone with your local time zone."))),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-env"},"ID_SCOPE=\nDEVICE_ID=\nDERIVED_KEY=\nOPEN_WEATHER_MAP_API_KEY=\nTZ=Australia/Sydney\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Save As")," the file as ",(0,n.kt)("strong",{parentName:"p"},"~/altair.env"),". The commands below assume you have saved the Altair environment file to your computer's home directory."))),(0,n.kt)("h2",{id:"start-the-altair-docker-image"},"Start the Altair Docker image"),(0,n.kt)("p",null,"There are two Altair Docker images. The first is for general use on 64-bit ",(0,n.kt)("a",{parentName:"p",href:"#general-linux-macos-windows-and-raspberry-pi-users"},"Linux, macOS, Windows, and Raspberry Pi operating systems"),". The second image is for a Raspberry Pi running ",(0,n.kt)("a",{parentName:"p",href:"#raspberry-pi-with-pi-sense-hat-users"},"Raspberry Pi OS with a Pi Sense HAT"),". Be sure to run the Docker image that matches your system."),(0,n.kt)("h3",{id:"general-linux-macos-windows-and-raspberry-pi-users"},"General Linux, macOS, Windows, and Raspberry Pi users"),(0,n.kt)("p",null,"Run the following command to start the Altair emulator. This command will:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Create a Docker persistent storage volume."),(0,n.kt)("li",{parentName:"ol"},"Map the ports for the web terminal."),(0,n.kt)("li",{parentName:"ol"},"Set the Docker container time zone. Replace the Australia/Sydney time zone with your local time zone.")),(0,n.kt)("h4",{id:"create-a-new-persistent-storage-volume"},"Create a new persistent storage volume"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker volume create altair-disks\n")),(0,n.kt)("h4",{id:"start-the-altair-emulator"},"Start the Altair emulator"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker run -d --env-file ~/altair.env -p 8082:8082 -p 80:80 -v altair-disks:/Altairdocker/AltairHL_emulator/Disks --name altair8800 --rm glovebox/altair8800:latest\n")),(0,n.kt)("h3",{id:"raspberry-pi-with-pi-sense-hat-users"},"Raspberry Pi with Pi Sense HAT users"),(0,n.kt)("p",null,"Run the following command to start the Altair emulator. This command will:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Enable I2C hardware access."),(0,n.kt)("li",{parentName:"ol"},"Create a Docker persistent storage volume."),(0,n.kt)("li",{parentName:"ol"},"Map the ports for the web terminal."),(0,n.kt)("li",{parentName:"ol"},"Set the Docker container time zone. Replace the Australia/Sydney time zone with your local time zone."),(0,n.kt)("li",{parentName:"ol"},"Starts the Docker container in privileged mode so the emulator can control the Pi Sense HAT panel LEDs.")),(0,n.kt)("h4",{id:"enable-i2c-hardware-access"},"Enable I2C hardware access"),(0,n.kt)("p",null,"From the command prompt, run the following command to enable I2C support for the Pi Sense HAT."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"sudo raspi-config nonint do_i2c 0\n")),(0,n.kt)("h4",{id:"create-a-new-persistent-storage-volume-1"},"Create a new persistent storage volume"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker volume create altair-disks\n")),(0,n.kt)("h4",{id:"start-the-altair-emulator-1"},"Start the Altair emulator"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker run -d --env-file ~/altair.env --privileged -p 8082:8082 -p 80:80 -v altair-disks:/Altairdocker/AltairHL_emulator/Disks --name altair8800 --rm glovebox/altair8800-pisense:latest\n")),(0,n.kt)("h3",{id:"managing-the-docker-persistent-storage-volume"},"Managing the Docker persistent storage volume"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Inspect the persistent storage volume"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker volume inspect altair-disks\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Check the data in the persistent storage volume"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"sudo ls /var/lib/docker/volumes/altair-disks/_data -all\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"To remove the persistent storage volume."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker volume rm altair-disks\n")))),(0,n.kt)("h2",{id:"open-the-web-terminal"},"Open the Web Terminal"),(0,n.kt)("p",null,"Open the Web Terminal to access the Altair emulator. Follow these steps."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Familiarize yourself with the ",(0,n.kt)("a",{parentName:"p",href:"/altair_8800_docs/fundamentals/Web-Terminal"},"Web Terminal")," and the CP/M operating system.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Open your web browser:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Navigate to ",(0,n.kt)("inlineCode",{parentName:"li"},"http://localhost")," if you deployed the Altair emulator on your local computer."),(0,n.kt)("li",{parentName:"ul"},"Navigate to ",(0,n.kt)("inlineCode",{parentName:"li"},"http://hostname_or_ip_address")," if you deployed the Altair emulator on a remote computer.")),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{alt:"The image shows the web terminal",src:a(7020).Z,width:"2268",height:"1406"})))))}d.isMDXComponent=!0},7020:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/web_terminal_intro-7ea4273609a1bb03edf7db67215efb5f.png"}}]);